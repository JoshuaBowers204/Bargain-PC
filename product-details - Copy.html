<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Product Detail</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="container">
      <h1>Product Details</h1>
      <nav>
        <ul>
          <li><a href="product.html">Back to Products</a></li>
          <li><a href="cart.html">Cart</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <section class="container">
    <div id="productDetail"></div>
  </section>

  <script>
    const name = localStorage.getItem('selectedProduct');
    const products = {
      'Gaming PC Bundle': {
        desc: 'A full gaming PC with Intel i5, GTX 1660, 16GB RAM.',
        price: 9999,
        img: 'images/pc1.jpg'
      },
      'NVIDIA GTX 1650': {
        desc: 'Mid-range GPU with great 1080p performance.',
        price: 2499,
        img: 'images/gpu1.jpg'
      },
      'Samsung 1TB SSD': {
        desc: 'Fast NVMe SSD with 1TB storage.',
        price: 1299,
        img: 'images/ssd.jpg'
      }
    };

    const product = products[name];
    document.getElementById('productDetail').innerHTML = `
      <div class="product-card">
        <img src="${product.img}" alt="${name}">
        <h2>${name}</h2>
        <p>${product.desc}</p>
        <p><strong>Price:</strong> R${product.price}</p>
        <button onclick="addToCart('${name}', ${product.price})">Add to Cart</button>
      </div>
    `;

    function addToCart(name, price) {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const itemIndex = cart.findIndex(item => item.name === name);

      if (itemIndex > -1) {
        cart[itemIndex].qty++;
      } else {
        cart.push({ name, price, qty: 1 });
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      alert(`${name} added to cart!`);
    }
  </script>
</body>
</html>
